---
title: Considerente legate de upgrade - Microsoft Dynamics 365 Project Service Automation versiunea 2.x sau 1.x la versiunea 3
description: Acest subiect oferă informații despre lucrurile pe care trebuie să le luați în calcul atunci când faceți upgrade de la Project Service Automation versiunea 2. x sau 1. x la versiunea 3.
manager: kfend
ms.service: dynamics-365-customerservice
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 19d6d312c7cedd2d7b9b5649452b85dd24fae761
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: ro-RO
ms.lasthandoff: 10/16/2020
ms.locfileid: "4082876"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="8eca3-103">Considerente legate de upgrade - PSA versiunea 2.x sau 1.x la versiunea 3</span><span class="sxs-lookup"><span data-stu-id="8eca3-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="8eca3-104">Project Service Automation și Field Service</span><span class="sxs-lookup"><span data-stu-id="8eca3-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="8eca3-105">Atât Dynamics 365 Project Service Automation, cât și Dynamics 365 Field Service utilizați soluția URS (Universal Resourcing Scheduling Scheduling) pentru planificarea resurselor.</span><span class="sxs-lookup"><span data-stu-id="8eca3-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="8eca3-106">Dacă aveți atât Project Service Automation, cât și Field Service în instanța dvs., ar trebui să planificați să actualizați ambele soluții la cea mai recentă versiune (versiunea 3.x pentru Project Service Automation, versiunea 8.x pentru Field Service).</span><span class="sxs-lookup"><span data-stu-id="8eca3-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="8eca3-107">Actualizarea Project Service Automation sau Field Service va instala cea mai recentă versiune de URS, ceea ce înseamnă că este posibil comportamentul inconsecvent dacă ambele soluții Project Service Automation și Field Service din aceeași instanță nu sunt actualizate la cea mai recentă versiune.</span><span class="sxs-lookup"><span data-stu-id="8eca3-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="8eca3-108">Atribuiri de resurse</span><span class="sxs-lookup"><span data-stu-id="8eca3-108">Resource assignments</span></span>
<span data-ttu-id="8eca3-109">În Project Service Automation versiunea 2 și versiunea 1, atribuirile de activități au fost stocate ca activități fiu (denumite și activități de linie) în **Entitatea activitate** și legate indirect de entitatea de **Atribuire resurse** .</span><span class="sxs-lookup"><span data-stu-id="8eca3-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity** , and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="8eca3-110">Activitatea de linie a fost vizibilă în fereastra pop-up de atribuire pe structura detaliată a proiectului (WBS).</span><span class="sxs-lookup"><span data-stu-id="8eca3-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Sarcini linie pe WBS în Project Service Automation versiunea 2 și versiunea 1](media/upgrade-line-task-01.png)

<span data-ttu-id="8eca3-112">În versiunea 3 a Project Service Automation, schema de bază de atribuire a resurselor care pot fi rezervate la activități s-a modificat.</span><span class="sxs-lookup"><span data-stu-id="8eca3-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="8eca3-113">Activitatea liniei a fost învechit și există o relație directă 1:1 între activitatea din **Entitatea activitate** și membrul echipei din entitatea de **Atribuire resurse**.</span><span class="sxs-lookup"><span data-stu-id="8eca3-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="8eca3-114">Activitățile care sunt atribuite unui membru al echipei de proiect sunt acum stocate direct în entitatea Atribuire resurse.</span><span class="sxs-lookup"><span data-stu-id="8eca3-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="8eca3-115">Aceste modificări au impact asupra actualizării oricăror proiecte existente care au atribuiri de resurse pentru resurse care pot fi rezervate și resurse generice într-o echipă de proiect.</span><span class="sxs-lookup"><span data-stu-id="8eca3-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="8eca3-116">Acest subiect oferă considerentele pe care va trebui să le luați în considerare pentru proiectele dumneavoastră atunci când faceți upgrade la versiunea 3.</span><span class="sxs-lookup"><span data-stu-id="8eca3-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="8eca3-117">Sarcini atribuite la resursele numite.</span><span class="sxs-lookup"><span data-stu-id="8eca3-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="8eca3-118">Utilizarea entității de activitate subordonată în versiunea 2 și versiunea 1 le-au permis membrilor echipei să portretizeze un alt rol decât rolul implicit definit.</span><span class="sxs-lookup"><span data-stu-id="8eca3-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="8eca3-119">De exemplu, Vera Cuza, căreia îi este atribuit implicit rolul de manager de program, ar putea fi atribuită la o sarcină cu rolul de Dezvoltator.</span><span class="sxs-lookup"><span data-stu-id="8eca3-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="8eca3-120">În versiunea 3, rolul unui membru al echipei numit este întotdeauna implicit, astfel încât orice sarcină care îi este atribuită verei Cuza îi utilizează rolul implicit de manager de program.</span><span class="sxs-lookup"><span data-stu-id="8eca3-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="8eca3-121">Dacă ați atribuit o resursă unei activități în afara rolului său implicit în versiunea 2 și versiunea 1, atunci când faceți upgrade, resursei denumite îi va fi atribuit rolul implicit pentru toate atribuirile de activități, indiferent de atribuirea rolului în versiunea 2.</span><span class="sxs-lookup"><span data-stu-id="8eca3-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="8eca3-122">Aceasta va duce la diferențe în estimările calculate de la versiunea 2 sau versiunea 1 la versiunea 3, deoarece estimările sunt calculate pe baza rolului resursei și nu a atribuirii activității de linie.</span><span class="sxs-lookup"><span data-stu-id="8eca3-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="8eca3-123">De exemplu, în versiunea 2, două sarcini au fost atribuite la Maria Bușcan.</span><span class="sxs-lookup"><span data-stu-id="8eca3-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="8eca3-124">Rolul de pe activitatea de linie pentru activitatea 1 este Dezvoltator și pentru sarcina 2, Manager de program.</span><span class="sxs-lookup"><span data-stu-id="8eca3-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="8eca3-125">Maria Bușcan are rolul implicit de manager de program.</span><span class="sxs-lookup"><span data-stu-id="8eca3-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Roluri multiple atribuite unei resurse](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="8eca3-127">Deoarece rolurile de dezvoltator și manager de programe diferă, estimările costurilor și vânzărilor sunt după urmează:</span><span class="sxs-lookup"><span data-stu-id="8eca3-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Estimările de cost pentru rolurile de resurse](media/upggrade-cost-estimates-03.png)

![Estimările de vânzări pentru rolurile de resurse](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="8eca3-130">Când faceți upgrade la versiunea 3, activitățile de linie sunt înlocuite cu atribuirile de resurse pe sarcina membrului de echipă de resurse care se poate rezerva.</span><span class="sxs-lookup"><span data-stu-id="8eca3-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="8eca3-131">Atribuirea va utiliza rolul implicit al resursei care se poate rezerva.</span><span class="sxs-lookup"><span data-stu-id="8eca3-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="8eca3-132">În graficul următor, Maria Bușcan, care are un rol de manager de program, este resursa.</span><span class="sxs-lookup"><span data-stu-id="8eca3-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Atribuiri de resurse](media/resource-assignment-v2-05.png)

<span data-ttu-id="8eca3-134">Deoarece estimările se bazează pe rolul implicit pentru resursă, estimările de vânzări și costuri se pot modifica.</span><span class="sxs-lookup"><span data-stu-id="8eca3-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="8eca3-135">Rețineți că în graficul următor, nu mai vedeți rolul de **Dezvoltator** , deoarece rolul este acum luat din rolul implicit al resursei care se poate rezerva.</span><span class="sxs-lookup"><span data-stu-id="8eca3-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="8eca3-136">![Estimările costurilor pentru rolurile implicite](media/resource-assignment-cost-estimate-06.png)
![Estimare vânzări pentru rolurile implicite](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="8eca3-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="8eca3-137">După finalizarea actualizării, aveți posibilitatea să editați rolul unui membru al echipei pentru a fi altceva decât cel atribuit implicit.</span><span class="sxs-lookup"><span data-stu-id="8eca3-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="8eca3-138">Cu toate acestea, dacă modificați rolul unui membru al echipei, acesta va fi modificat pe toate sarcinile atribuite, deoarece membrilor echipei nu li se mai pot atribui mai multe roluri în versiunea 3.</span><span class="sxs-lookup"><span data-stu-id="8eca3-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Actualizarea unui rol de resursă](media/resource-role-assignment-08.png)

<span data-ttu-id="8eca3-140">Acest lucru este valabil și pentru activitățile de linie care au fost atribuite la resurse denumite atunci când modificați unitatea de organizație a resursei de la cea implicită la o altă unitate de organizație.</span><span class="sxs-lookup"><span data-stu-id="8eca3-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="8eca3-141">După terminarea actualizării la versiunea 3, atribuirea va utiliza unitatea de organizație implicită a resursei în loc de cea setată pe linia de activitate.</span><span class="sxs-lookup"><span data-stu-id="8eca3-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="8eca3-142">Sarcini atribuite la resursele generice.</span><span class="sxs-lookup"><span data-stu-id="8eca3-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="8eca3-143">În versiunea 2 și versiunea 1, puteți seta rolul și unitatea de organizație pe o activitate și apoi utilizați caracteristica **Generare echipă** pentru a genera resurse generice bazate pe atributele setate pe activitate.</span><span class="sxs-lookup"><span data-stu-id="8eca3-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="8eca3-144">În versiunea 3, creați membrii echipei generice cu rol și unitate de unitate de organizație și apoi atribuiți membrii echipei la activități.</span><span class="sxs-lookup"><span data-stu-id="8eca3-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="8eca3-145">În versiunea 2 și versiunea 1, proiectele cu resurse generice pot avea două stări sau un amestec al ambelor la nivel de activitate.</span><span class="sxs-lookup"><span data-stu-id="8eca3-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="8eca3-146">De exemplu, puteți avea următoarele scenarii:</span><span class="sxs-lookup"><span data-stu-id="8eca3-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="8eca3-147">Activități cu roluri și unități de organizație setate, dar nu s-a generat nicio atribuire de resurse afiliate.</span><span class="sxs-lookup"><span data-stu-id="8eca3-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="8eca3-148">Activități cu atribuiri de resurse generice de membri ai echipei care au fost atribuite prin crearea de resurse generice utilizând caracteristica **Generare echipă**.</span><span class="sxs-lookup"><span data-stu-id="8eca3-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="8eca3-149">Înainte de a începe upgrade-ul, vă recomandăm să re-generați echipa pentru fiecare proiect care are sarcini atribuite la resurse generice sau pentru care nu s-a rulat încă procesul de generare echipa.</span><span class="sxs-lookup"><span data-stu-id="8eca3-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="8eca3-150">Pentru activități care sunt atribuite membrilor generici de echipă care au fost generate cu **Generare echipă** , actualizarea va lăsa resursa generică pe echipă și va lăsa atribuirea la acel membru generic de echipă.</span><span class="sxs-lookup"><span data-stu-id="8eca3-150">For tasks that are assigned to generic team members that were generated with **Generate Team** , the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="8eca3-151">Vă recomandăm să generați cerința de resurse pentru membrul generic de echipă după actualizare, dar înainte de a rezerva sau remite o solicitare de resurse.</span><span class="sxs-lookup"><span data-stu-id="8eca3-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="8eca3-152">Acest lucru va păstra toate atribuirile de unitate de organizație pe membrii generici ai echipei care sunt diferite de unitatea de organizație contractantă a proiectului.</span><span class="sxs-lookup"><span data-stu-id="8eca3-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="8eca3-153">De exemplu, în proiectul Proiect Z, unitatea de organizație contractantă este Contoso US.</span><span class="sxs-lookup"><span data-stu-id="8eca3-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="8eca3-154">În planul de proiect, pentru sarcinile de testare în faza de implementare a fost atribuit rolul consultant tehnic și unitatea de organizație atribuită este Contoso India.</span><span class="sxs-lookup"><span data-stu-id="8eca3-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Alocarea organizației, faza de implementare](media/org-unit-assignment-09.png)

<span data-ttu-id="8eca3-156">După faza de implementare, sarcina de testare a integrării este atribuită rolului de consultant tehnic, dar organizația este setată la Contoso US.</span><span class="sxs-lookup"><span data-stu-id="8eca3-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Test integrare alocare sarcini organizație](media/org-unit-generate-team-10.png)

<span data-ttu-id="8eca3-158">Când generați o echipă pentru proiect, sunt creați doi membri generici de echipă din cauza diferitelor unități de organizație de pe activități.</span><span class="sxs-lookup"><span data-stu-id="8eca3-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="8eca3-159">Consultantului tehnic 1 îi vor fi atribuite sarcinile Contoso India, iar consultantul tehnic 2 va avea sarcinile Contoso US.</span><span class="sxs-lookup"><span data-stu-id="8eca3-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Membri de echipă generici generați](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="8eca3-161">În Project Service Automation versiunea 2 și versiunea 1, membrul echipei nu deține unitatea de organizație, care este menținută pe linia de activitate.</span><span class="sxs-lookup"><span data-stu-id="8eca3-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Activități de linie versiunea 2 și versiunea 1 în Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="8eca3-163">Puteți vedea unitatea de organizație în vizualizarea estimări.</span><span class="sxs-lookup"><span data-stu-id="8eca3-163">You can see the organization unit on the estimates view.</span></span> 

![Estimări ale unităților de organizație](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="8eca3-165">Când upgrade-ul este complet, unitatea de organizație de pe linia de activitate care corespunde cu membrul de echipă generic este adăugată la membrul de echipă generic și activitatea de linie este eliminată.</span><span class="sxs-lookup"><span data-stu-id="8eca3-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="8eca3-166">Din acest motiv, vă recomandăm ca, înainte de actualizare, să generați sau să re-generați echipa pe fiecare proiect care conține resurse generice.</span><span class="sxs-lookup"><span data-stu-id="8eca3-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="8eca3-167">Pentru activitățile care sunt atribuite unui rol cu o unitate de organizație care diferă de unitatea de organizație a proiectului contractant și o echipă nu a fost generată, actualizarea va crea un membru de echipă generic pentru rol, dar va utiliza unitatea contractantă a proiectului pentru unitatea de organizație a membrului echipei.</span><span class="sxs-lookup"><span data-stu-id="8eca3-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="8eca3-168">Referindu-ne la exemplul cu Proiect Z, aceasta înseamnă că pentru unitatea de organizație contractantă Contoso US, precum și pentru sarcinile de testare a planului de proiect în faza de implementare au fost atribuite rolul de consultant tehnic cu unitatea de organizație atribuită la Contoso India.</span><span class="sxs-lookup"><span data-stu-id="8eca3-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="8eca3-169">Sarcinii de testare a integrării încheiată după faza de Implementare i se atribuie rolul de consultant tehnic.</span><span class="sxs-lookup"><span data-stu-id="8eca3-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="8eca3-170">Unitatea de organizație este Contoso US și nu a fost generată o echipă.</span><span class="sxs-lookup"><span data-stu-id="8eca3-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="8eca3-171">Actualizarea va crea un membru generic de echipă, un consultant tehnic care are orele atribuite pe toate cele trei sarcini, și o unitate de organizație Contoso US, unitatea de organizație contractantă a proiectului.</span><span class="sxs-lookup"><span data-stu-id="8eca3-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="8eca3-172">Modificarea valorii implicite a diverselor unități de organizație de resurse pe membrii echipei non-generați este motivul pentru care vă recomandăm să generați sau să re-generați echipa pe fiecare proiect care conține resurse generice înainte de actualizare, astfel încât atribuirile unității de organizație să nu se piardă.</span><span class="sxs-lookup"><span data-stu-id="8eca3-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

