---
title: Sincronizați contractele de proiect și proiectele direct din Project Service Automation la Finance and Operations
description: Acest subiect descrie șablonul și activitățile de desfășurare care sunt utilizate pentru a sincroniza contractele de proiect și proiectele direct de la Microsoft Dynamics 365 Project Service Automation la Dynamics 365 Finance.
author: KimANelson
manager: AnnBe
ms.date: 09/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: 57fe4ae8-6ee9-442d-9933-d525b5415db8
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: b914a56b306639253a8cd3b7caa754da175b6df2
ms.sourcegitcommit: 8c786230ef2a497280885b827162561776e2eb00
ms.translationtype: HT
ms.contentlocale: ro-RO
ms.lasthandoff: 03/24/2020
ms.locfileid: "3754696"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="a79ee-103">Sincronizați contractele de proiect și proiectele direct din Project Service Automation la Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="a79ee-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a79ee-104">Acest subiect descrie șablonul și activitățile de desfășurare care sunt utilizate pentru a sincroniza contractele de proiect și proiectele direct de la Dynamics 365 Project Service Automation la Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="a79ee-105">Dacă utilizați Enterprise ediția 7.3.0, trebuie să instalați KB 4074835.</span><span class="sxs-lookup"><span data-stu-id="a79ee-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="a79ee-106">Fluxul de date pentru Project Service Automation la Finanțe</span><span class="sxs-lookup"><span data-stu-id="a79ee-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="a79ee-107">Înainte de a putea utiliza soluția de integrare Project Service Automation la Finance, ar trebui să vă familiarizați cu caracteristica de integrare a datelor Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="a79ee-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="a79ee-108">Soluția de integrare Project Service Automation la Finance utilizează funcția de integrare a datelor pentru a sincroniza datele între instanțele Project Service Automation și Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="a79ee-109">Șablonul de integrare care este disponibil cu funcția de integrare a datelor permite fluxul de date despre contracte de proiecte, proiecte, linii de contracte de proiect și reperelor de linii de contracte de proiect, de la Project Service Automation până la Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="a79ee-110">Următoarea ilustrație arată cum sunt sincronizate datele între Project Service Automation și Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="a79ee-111">[![Fluxul de date pentru integrarea Project Service Automation cu Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="a79ee-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="a79ee-112">Șabloane și activtăți</span><span class="sxs-lookup"><span data-stu-id="a79ee-112">Templates and tasks</span></span>

<span data-ttu-id="a79ee-113">Pentru a accesa șabloanele disponibile, în centrul de administrare Microsoft Power Apps, selectați **Proiecte**, apoi, în colțul din dreapta sus, selectați **Proiect nou** pentru a selecta șabloanele publice.</span><span class="sxs-lookup"><span data-stu-id="a79ee-113">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="a79ee-114">Următoarele șabloane și activități în desfășurare sunt utilizate pentru a sincroniza contracte de proiect și proiecte de la Project Service Automation la Finance:</span><span class="sxs-lookup"><span data-stu-id="a79ee-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="a79ee-115">Integrarea cu Dynamics 365 Project Service Automation v2.x</span><span class="sxs-lookup"><span data-stu-id="a79ee-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="a79ee-116">**Numele șablonului în Integrarea datelor:** Proiecte și contracte (PSA la Fin și Ops)</span><span class="sxs-lookup"><span data-stu-id="a79ee-116">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="a79ee-117">**Numele sarcinilor din proiect:**</span><span class="sxs-lookup"><span data-stu-id="a79ee-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="a79ee-118">Proiectul contractează PSA către Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-118">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a79ee-119">Proiectele contractează PSA către Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-119">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a79ee-120">Linii de contract de proiect PSA către Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-120">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a79ee-121">Jaloane de linie de contract PSA la Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-121">Project contract line milestones PSA to Fin and Ops</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="a79ee-122">Integrarea cu Dynamics 365 Project Service Automation v3.x</span><span class="sxs-lookup"><span data-stu-id="a79ee-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="a79ee-123">Există o schimbare de schemă în Project Service Automation care afectează șablonul de referință al liniei de contract Project și este necesară utilizarea versiunii v2 a șablonului pentru a integra Project Service Automation v3.x cu Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="a79ee-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="a79ee-124">**Numele șablonului în Integrarea datelor:** Proiecte și contracte (PSA 3.x la Fin și Ops) - v2</span><span class="sxs-lookup"><span data-stu-id="a79ee-124">**Name of the template in Data integration:** Projects and Contracts (PSA 3.x to Fin and Ops) - v2</span></span>
- <span data-ttu-id="a79ee-125">**Numele sarcinilor din proiect:**</span><span class="sxs-lookup"><span data-stu-id="a79ee-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="a79ee-126">Proiectul contractează PSA către Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-126">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a79ee-127">Proiectele contractează PSA către Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-127">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a79ee-128">Linii de contract de proiect PSA către Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-128">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a79ee-129">Jaloane de linie de contract PSA la Fin și Ops</span><span class="sxs-lookup"><span data-stu-id="a79ee-129">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="a79ee-130">Înainte să poată avea loc sincronizarea de contracte de proiecte și proiecte, trebuie să sincronizați conturile.</span><span class="sxs-lookup"><span data-stu-id="a79ee-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="a79ee-131">Entitate setată</span><span class="sxs-lookup"><span data-stu-id="a79ee-131">Entity set</span></span>

| <span data-ttu-id="a79ee-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="a79ee-132">Project Service Automation</span></span>       | <span data-ttu-id="a79ee-133">Finanțe</span><span class="sxs-lookup"><span data-stu-id="a79ee-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="a79ee-134">Comenzi</span><span class="sxs-lookup"><span data-stu-id="a79ee-134">Orders</span></span>                           | <span data-ttu-id="a79ee-135">Entitate de integrare pentru contract de proiect</span><span class="sxs-lookup"><span data-stu-id="a79ee-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="a79ee-136">Proiecte</span><span class="sxs-lookup"><span data-stu-id="a79ee-136">Projects</span></span>                         | <span data-ttu-id="a79ee-137">Entitate de integrare pentru proiect</span><span class="sxs-lookup"><span data-stu-id="a79ee-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="a79ee-138">Linii comandă</span><span class="sxs-lookup"><span data-stu-id="a79ee-138">Order lines</span></span>                      | <span data-ttu-id="a79ee-139">Entitate de integrare pentru linia de contract</span><span class="sxs-lookup"><span data-stu-id="a79ee-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="a79ee-140">Jaloane linie contract de proiect</span><span class="sxs-lookup"><span data-stu-id="a79ee-140">Project contract line milestones</span></span> | <span data-ttu-id="a79ee-141">Entitate de integrare pentru jaloane linie de contract de proiect</span><span class="sxs-lookup"><span data-stu-id="a79ee-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="a79ee-142">Fluxul de entități</span><span class="sxs-lookup"><span data-stu-id="a79ee-142">Entity flow</span></span>

<span data-ttu-id="a79ee-143">Contractele de proiect sunt gestionate în Project Service Automation și sunt sincronizate cu Finance ca și contracte de proiect.</span><span class="sxs-lookup"><span data-stu-id="a79ee-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="a79ee-144">Ca parte a șablonului de integrare, puteți seta sursa de integrare în Finance pentru contractul de proiect.</span><span class="sxs-lookup"><span data-stu-id="a79ee-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="a79ee-145">Proiectul de timp și material și proiectele cu preț fix sunt gestionate în Project Service Automation și sunt sincronizate la Finance ca proiecte.</span><span class="sxs-lookup"><span data-stu-id="a79ee-145">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance as projects.</span></span> <span data-ttu-id="a79ee-146">Ca parte a integrării de șablon, puteți seta sursa de integrare în Finance pentru proiect.</span><span class="sxs-lookup"><span data-stu-id="a79ee-146">As part of the template integration, you can set the integration source in Finance for the project.</span></span>

<span data-ttu-id="a79ee-147">Liniile de contract de proiect sunt gestionate în Project Service Automation și sunt sincronizate cu Finance ca și reguli de facturare de contract.</span><span class="sxs-lookup"><span data-stu-id="a79ee-147">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="a79ee-148">Dacă metoda de facturare diferă de tipul de proiect implicit, sincronizarea actualizează tipul de proiect pentru proiectul liniei de contract și grupul de proiecte.</span><span class="sxs-lookup"><span data-stu-id="a79ee-148">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="a79ee-149">Jaloanele de linii de contract de proiect sunt gestionate în Project Service Automation și sunt sincronizate cu Finance ca și jaloane de reguli de facturare de contract.</span><span class="sxs-lookup"><span data-stu-id="a79ee-149">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="a79ee-150">Soluție de integrare Project Service Automation la Finance</span><span class="sxs-lookup"><span data-stu-id="a79ee-150">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="a79ee-151">Câmpul **ID-ul contractului de proiect** este disponibil pe pagina **Contracte de proiect**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-151">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="a79ee-152">Acest câmp a devenit o cheie naturală și unică pentru a sprijini integrarea.</span><span class="sxs-lookup"><span data-stu-id="a79ee-152">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="a79ee-153">Când se creează un nou contract de proiect, dacă o valoare de **ID de contract de proiect** nu există deja, este generată automat utilizând o secvență numerică.</span><span class="sxs-lookup"><span data-stu-id="a79ee-153">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="a79ee-154">Valoarea constă din **ORD** urmat de o secvență numerică incrementală și apoi de un sufix de șase caractere.</span><span class="sxs-lookup"><span data-stu-id="a79ee-154">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="a79ee-155">Iată un exemplu: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-155">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="a79ee-156">Câmpul **Numărul de proiect** este disponibil pe pagina **Proiecte**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-156">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="a79ee-157">Acest câmp a devenit o cheie naturală și unică pentru a sprijini integrarea.</span><span class="sxs-lookup"><span data-stu-id="a79ee-157">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="a79ee-158">Când se creează un nou contract de proiect, dacă o valoare de **Număr de proiect** nu există deja, este generată automat utilizând o secvență numerică.</span><span class="sxs-lookup"><span data-stu-id="a79ee-158">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="a79ee-159">Valoarea constă din **PRJ** urmat de o secvență numerică incrementală și apoi de un sufix de șase caractere.</span><span class="sxs-lookup"><span data-stu-id="a79ee-159">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="a79ee-160">Iată un exemplu: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-160">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="a79ee-161">Când se aplică soluția de integrare Project Service Automation to Finance, un script de upgrade setează câmpul **ID-ul contractului de proiect** pentru contractele de proiect existente și **Numărul proiectului** pentru proiecte existente în Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="a79ee-161">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="a79ee-162">Cerințe preliminare și configurare a mapării</span><span class="sxs-lookup"><span data-stu-id="a79ee-162">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="a79ee-163">Înainte să poată avea loc sincronizarea de contracte de proiecte și proiecte, trebuie să sincronizați conturile.</span><span class="sxs-lookup"><span data-stu-id="a79ee-163">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="a79ee-164">În setul de conexiuni, adăugați o mapare a câmpului cheii de integrare pentru **msdyn\_organizationalunits** la **msdyn\_name \[Name\]**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-164">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="a79ee-165">Este posibil să fie necesar mai întâi să adăugați un proiect la setul de conexiuni.</span><span class="sxs-lookup"><span data-stu-id="a79ee-165">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="a79ee-166">Pentru mai multe informații, consultați [Integrați datele în Common Data Service pentru aplicații](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="a79ee-166">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="a79ee-167">În setul dvs. de conexiune, adăugați o mapare a câmpului cheii de integrare pentru **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-167">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="a79ee-168">Este posibil să fie necesar mai întâi să adăugați un proiect la setul de conexiuni.</span><span class="sxs-lookup"><span data-stu-id="a79ee-168">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="a79ee-169">Pentru mai multe informații, consultați [Integrați datele în Common Data Service pentru aplicații](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="a79ee-169">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="a79ee-170">**SourceDataID** pentru contractele de proiecte și proiectele pot fi actualizate la o valoare diferită sau eliminate din mapare.</span><span class="sxs-lookup"><span data-stu-id="a79ee-170">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="a79ee-171">Valoarea implicită a șablonului este **Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-171">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="a79ee-172">Maparea **Termeni de plată** trebuie să fie actualizată astfel încât să reflecte condiții de plată valabile în Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-172">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="a79ee-173">De asemenea, puteți elimina maparea din sarcina proiectului.</span><span class="sxs-lookup"><span data-stu-id="a79ee-173">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="a79ee-174">Harta valorilor implicite are valori implicite pentru datele demonstrative.</span><span class="sxs-lookup"><span data-stu-id="a79ee-174">The default value map has default values for demo data.</span></span> <span data-ttu-id="a79ee-175">Următorul tabel prezintă valorile din Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="a79ee-175">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="a79ee-176">Valoare</span><span class="sxs-lookup"><span data-stu-id="a79ee-176">Value</span></span> | <span data-ttu-id="a79ee-177">Descriere</span><span class="sxs-lookup"><span data-stu-id="a79ee-177">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="a79ee-178">1</span><span class="sxs-lookup"><span data-stu-id="a79ee-178">1</span></span>     | <span data-ttu-id="a79ee-179">Net 30</span><span class="sxs-lookup"><span data-stu-id="a79ee-179">Net 30</span></span>        |
    | <span data-ttu-id="a79ee-180">2</span><span class="sxs-lookup"><span data-stu-id="a79ee-180">2</span></span>     | <span data-ttu-id="a79ee-181">2 % 10, Net 30</span><span class="sxs-lookup"><span data-stu-id="a79ee-181">2% 10, Net 30</span></span> |
    | <span data-ttu-id="a79ee-182">3</span><span class="sxs-lookup"><span data-stu-id="a79ee-182">3</span></span>     | <span data-ttu-id="a79ee-183">Net 45</span><span class="sxs-lookup"><span data-stu-id="a79ee-183">Net 45</span></span>        |
    | <span data-ttu-id="a79ee-184">4</span><span class="sxs-lookup"><span data-stu-id="a79ee-184">4</span></span>     | <span data-ttu-id="a79ee-185">Net 60</span><span class="sxs-lookup"><span data-stu-id="a79ee-185">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="a79ee-186">Power Query</span><span class="sxs-lookup"><span data-stu-id="a79ee-186">Power Query</span></span>

<span data-ttu-id="a79ee-187">Trebuie să utilizați Microsoft Power Query pentru Excel pentru a filtra datele dacă sunt îndeplinite următoarele condiții:</span><span class="sxs-lookup"><span data-stu-id="a79ee-187">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="a79ee-188">Aveți comenzi de vânzări în Dynamics 365 Sales.</span><span class="sxs-lookup"><span data-stu-id="a79ee-188">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="a79ee-189">Aveți mai multe unități organizaționale în Project Service Automation, iar aceste unități organizaționale vor fi mapate la mai multe entități juridice din Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-189">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="a79ee-190">Dacă trebuie să utilizați Power Query, urmați aceste recomandări:</span><span class="sxs-lookup"><span data-stu-id="a79ee-190">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="a79ee-191">Șablonul Proiecte și contracte (PSA to Fin și Ops) are un filtru implicit care include numai comenzile de vânzare ale tipului **Element de lucru (msdyn\_ordertype = 192350001)**.</span><span class="sxs-lookup"><span data-stu-id="a79ee-191">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="a79ee-192">Acest filtru ajută la garantarea faptului că nu se creează contracte de proiect pentru comenzile de vânzare din Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-192">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="a79ee-193">Dacă vă creați propriul șablon, trebuie să adăugați acest filtru.</span><span class="sxs-lookup"><span data-stu-id="a79ee-193">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="a79ee-194">Trebuie să creați un filtru Power Query care să includă numai organizațiile contractuale care ar trebui sincronizate cu entitatea juridică a setului de conexiuni de integrare.</span><span class="sxs-lookup"><span data-stu-id="a79ee-194">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="a79ee-195">De exemplu, contractele de proiect pe care le aveți cu unitatea organizatorică contractuală a Blerinca SUA ar trebui sincronizate cu entitatea juridică USSI, dar contractele de proiect pe care le aveți cu unitatea organizatorică contractuală a Blerinca Global ar trebui sincronizate cu entitatea juridică USMF.</span><span class="sxs-lookup"><span data-stu-id="a79ee-195">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="a79ee-196">Dacă nu adăugați acest filtru la maparea sarcinilor, toate contractele de proiect vor fi sincronizate cu entitatea juridică definită pentru setul de conexiuni, indiferent de unitatea organizațională a contractului.</span><span class="sxs-lookup"><span data-stu-id="a79ee-196">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="a79ee-197">Maparea șabloanelor în integrarea datelor</span><span class="sxs-lookup"><span data-stu-id="a79ee-197">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="a79ee-198">Câmpurile **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** și **AddressZipCode** nu sunt incluse în maparea implicită pentru contractele de proiect.</span><span class="sxs-lookup"><span data-stu-id="a79ee-198">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="a79ee-199">Puteți adăuga mapările dacă doriți ca aceste date să fie sincronizate pentru contractele de proiect.</span><span class="sxs-lookup"><span data-stu-id="a79ee-199">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="a79ee-200">Câmpurile **Descriere**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** nu sunt incluse în maparea implicită pentru proiecte.</span><span class="sxs-lookup"><span data-stu-id="a79ee-200">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="a79ee-201">Puteți adăuga mapările dacă doriți ca aceste date să fie sincronizate pentru proiecte.</span><span class="sxs-lookup"><span data-stu-id="a79ee-201">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="a79ee-202">Următoarele ilustrații prezintă exemple de mapări ale sarcinilor șablon în Integrarea datelor.</span><span class="sxs-lookup"><span data-stu-id="a79ee-202">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="a79ee-203">Maparea arată informațiile despre câmp care vor fi sincronizate de la Project Service Automation la Finance.</span><span class="sxs-lookup"><span data-stu-id="a79ee-203">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="a79ee-204">[![Maparea șabloanelor](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a79ee-204">[![Template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="a79ee-205">[![Maparea șabloanelor](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a79ee-205">[![Template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="a79ee-206">[![Maparea șabloanelor](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a79ee-206">[![Template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="a79ee-207">[![Maparea șabloanelor](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a79ee-207">[![Template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="a79ee-208">Maparea jalonului de linie contract de proiect în proiectele și contractele (PSA 3.x la Dynamics) - șablonul v2:</span><span class="sxs-lookup"><span data-stu-id="a79ee-208">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="a79ee-209">[![Maparea șabloanelor](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="a79ee-209">[![Template mapping](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>
